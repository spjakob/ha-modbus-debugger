read_register:
  name: Read Register
  description: Reads a register from a Modbus device and displays the value in multiple formats.
  fields:
    hub_id:
      name: Hub ID
      description: The Modbus Hub to use.
      required: true
      selector:
        config_entry:
          integration: ha_modbus_debugger
    unit_id:
      name: Unit ID
      description: The Modbus Slave ID.
      required: true
      default: 1
      selector:
        number:
          min: 1
          max: 247
          mode: box
    register:
      name: Register Address
      description: The address of the register to read.
      required: true
      selector:
        number:
          min: 0
          max: 65535
          mode: box
    count:
      name: Count
      description: Number of registers to read.
      required: false
      default: 1
      selector:
        number:
          min: 1
          max: 125
          mode: box
    register_type:
      name: Register Type
      description: Holding or Input Register.
      required: false
      default: holding
      selector:
        select:
          options:
            - label: Holding Register
              value: holding
            - label: Input Register
              value: input
    verbose:
      name: Verbose Output
      description: Include detailed connection trace in response.
      required: false
      default: true
      selector:
        boolean:

scan_devices:
  name: Scan for Devices
  description: Scans the bus for Modbus devices by attempting to read a register from each Unit ID.
  fields:
    hub_id:
      name: Hub ID
      description: The Modbus Hub to use.
      required: true
      selector:
        config_entry:
          integration: ha_modbus_debugger
    start_unit:
      name: Start Unit ID
      description: The Unit ID to start scanning from.
      required: true
      default: 1
      selector:
        number:
          min: 1
          max: 247
          mode: box
    end_unit:
      name: End Unit ID
      description: The Unit ID to end scanning at.
      required: true
      default: 247
      selector:
        number:
          min: 1
          max: 247
          mode: box
    register:
      name: Register Address
      description: The register address to read for verification.
      required: false
      default: 0
      selector:
        number:
          min: 0
          max: 65535
          mode: box
    register_type:
      name: Register Type
      description: The type of register to read.
      required: false
      default: holding
      selector:
        select:
          options:
            - label: Holding Register
              value: holding
            - label: Input Register
              value: input
    verbose:
      name: Verbose Output
      description: Include detailed scan trace in response.
      required: false
      default: false
      selector:
        boolean:
